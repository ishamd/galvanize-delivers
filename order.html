<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
  <link rel="stylesheet" href="css/index.css">
  <title>Galvanize Delivers!</title>
</head>

<body>
  <nav class = "navbar navbar-default" role = "navigation">

     <div class = "navbar-header">
        <button type = "button" class = "navbar-toggle"
           data-toggle = "collapse" data-target = "#example-navbar-collapse">
           <span class = "sr-only">Toggle navigation</span>
           <span class = "icon-bar"></span>
           <span class = "icon-bar"></span>
           <span class = "icon-bar"></span>
        </button>

        <a class = "navbar-brand" href = "index.html">Galvanize Delivers</a>
     </div>

     <div class = "collapse navbar-collapse" id = "example-navbar-collapse">

        <ul class = "nav navbar-nav">
           <li class = "active"><a href = "order.html">Order Delivery</a></li>
        </ul>
     </div>

  </nav>

  <!-- <nav class="navbar navbar-fixed-top">
    <div class="container-fluid nav-colors">
      <h3><a class="navbar-left nav-colors" href="index.html">Galvanize Delivers</a></h3>
      <h5><a class="navbar-right nav-colors" href="order.html">Order Delivery</a></h5>
    </div>
  </nav> -->
  <main>

    <div class="container-fluid top-margin">
      <div class="row">
        <div class=col-md-1></div>
        <div class=col-md-10>
          <div class="row">
            <div class="col-md-6">
              <h3>Menu</h3>
              <div class="row">
                <div class="col-md-6">
                  <div class="thumbnail">
                    <img src="img/burger.jpg" alt="burger">
                    <div class="caption">
                      <h4>Royale with Cheese</h4>
                      <p>$8.99</p>
                      <button id="burgerOrder" class="btn place-order-btn">ADD TO ORDER</button>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="thumbnail">
                    <img src="img/pizza.jpg" alt="pizza">
                    <div class="caption">
                      <h4>Arugula Pie</h4>
                      <p>$11.99</p>
                      <button id="pizzaOrder" class="btn place-order-btn">ADD TO ORDER</button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="thumbnail">
                    <img src="img/ribs.jpg" alt="ribs">
                    <div class="caption">
                      <h4>Smoked Swine</h4>
                      <p>$14.99</p>
                      <button id="ribsOrder" class="btn place-order-btn">ADD TO ORDER</button>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="thumbnail">
                    <img src="img/ice_cream.jpg" alt="ice cream">
                    <div class="caption">
                      <h4>Ice Cream Biscut</h4>
                      <p>$7.99</p>
                      <button id="iceCreamOrder" class="btn place-order-btn">ADD TO ORDER</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <h3>Order</h3>
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Item</th>
                    <th>Price</th>
                  </tr>
                </thead>

                <tbody id="table-body">
                </tbody>

                <tfoot>
                  <tr>
                    <td class="text-center font-bold">Subtotal</td>
                    <td id="subtotal" class="font-bold">$0.00</td>
                  </tr>
                  <tr>
                    <td class="text-center font-bold">Tax</td>
                    <td id="tax" class="font-bold">$0.00</td>
                  </tr>
                  <tr>
                    <td class="text-center font-bold">Total</td>
                    <td id="total" class="font-bold">$0.00</td>
                  </tr>
                </tfoot>
              </table>

              <form id='form'>
                <div class="form-group">
                  <label for="#">Name</label>
                  <input type="text" class="form-control" id="customer-name" placeholder="John Smith">
                </div>
                <div class="form-group">
                  <label for="#">Phone Number</label>
                  <input type="tel" class="form-control" id="customer-tel" placeholder="555-555-5555">
                </div>
                <div class="form-group">
                  <label for="#">Address</label>
                  <textarea class="form-control" rows="3" id="customer-address" placeholder="123 Main St."></textarea>
                </div>
                <button id="place-order" class="btn order-btn" type="">PLACE ORDER</button>
              </form>
            </div>
          </div>
        </div>
        <div class=col-md-1></div>
      </div>
    </div>


    <div class="container-fluid">
      <div class="row bottom-landing">
        <div class=col-md-1></div>
        <div class=col-md-10>
          <div class="col-md-4">
            <h4>Galvanize Delivers</h4>
            <h6>Fine Dining, Delivered.</h6>
          </div>
          <div class="col-md-4"></div>
          <div class="col-md-4">
            <h6><a class="navbar-left nav-colors" href="index.html">Home</a></h6><br>
            <h6><a class="navbar-left nav-colors" href="order.html">Order Delivery</a></h6>
          </div>
        </div>
        <div class=col-md-1></div>
      </div>
    </div>

  </main>

  <footer class="container-fluid">
    <div class="row">
      <div class=col-md-1></div>
      <div class=col-md-10>
        <h6 class="col-md-4">&copy; 2017 Galvanize Delivers</h6>
      </div>
      <div class=col-md-1></div>
    </div>
  </footer>
</body>

</html>

<script>
  // Add ID's to order elements so they can be grabbed
  // Grab order elements using getElementById
  // add event listener to each order elements
  // once order element is clicked:
  // add a new row to the table body element
  // add new table data element with the name of the item clicked
  // add new table data element with the price of the item clicked
  // add the price of the item clicked to the subtotal global variable
  // update the innerhtml for the subtotal, tax, and total cells in the table


  function updateOrder() {

    let subtotal = document.getElementById('subtotal');
    let tax = document.getElementById('tax');
    let total = document.getElementById('total');

    let subtotalValue = parseInt(0);
    let taxValue = parseInt(0);
    let totalValue = parseInt(0);

    let tableBody = document.getElementById('table-body');
    let burgerOrder = document.getElementById('burgerOrder');
    let pizzaOrder = document.getElementById('pizzaOrder');
    let ribsOrder = document.getElementById('ribsOrder');
    let iceCreamOrder = document.getElementById('iceCreamOrder');

    let placeOrder = document.getElementById('place-order');
    let customerName = document.getElementById('customer-name');
    let nameValue;
    let customerTel = document.getElementById('customer-tel');
    let telValue;
    let customerAddress = document.getElementById('customer-address');
    let addressValue;

    let burgerPrice = 8.99;
    let pizzaPrice = 11.99;
    let ribsPrice = 14.99;
    let iceCreamPrice = 7.99;
    let numberOfItems = 0;

    burgerOrder.addEventListener('click', function() {
      let newRow = document.createElement('tr');
      let newItem = document.createElement('td');
      let newPrice = document.createElement('td');
      tableBody.appendChild(newRow);
      newRow.appendChild(newItem).textContent = 'Royale with Cheese';
      newRow.appendChild(newPrice).textContent = `$${burgerPrice}`;
      subtotalValue += burgerPrice;
      taxValue = subtotalValue * 0.1;
      totalValue = subtotalValue + taxValue;
      subtotal.textContent = `$${subtotalValue.toFixed(2)}`;
      tax.textContent = `$${taxValue.toFixed(2)}`;
      total.textContent = `$${totalValue.toFixed(2)}`;
      numberOfItems++;
    })

    pizzaOrder.addEventListener('click', function() {
      let newRow = document.createElement('tr');
      let newItem = document.createElement('td');
      let newPrice = document.createElement('td');
      tableBody.appendChild(newRow);
      newRow.appendChild(newItem).textContent = 'Arugula Pie';
      newRow.appendChild(newPrice).textContent = `$${pizzaPrice}`;
      subtotalValue += pizzaPrice;
      taxValue = subtotalValue * 0.1;
      totalValue = subtotalValue + taxValue;
      subtotal.textContent = `$${subtotalValue.toFixed(2)}`;
      tax.textContent = `$${taxValue.toFixed(2)}`;
      total.textContent = `$${totalValue.toFixed(2)}`;
      numberOfItems++;
    })

    ribsOrder.addEventListener('click', function() {
      let newRow = document.createElement('tr');
      let newItem = document.createElement('td');
      let newPrice = document.createElement('td');
      tableBody.appendChild(newRow);
      newRow.appendChild(newItem).textContent = 'Smoked Swine';
      newRow.appendChild(newPrice).textContent = `$${ribsPrice}`;
      subtotalValue += ribsPrice;
      taxValue = subtotalValue * 0.1;
      totalValue = subtotalValue + taxValue;
      subtotal.textContent = `$${subtotalValue.toFixed(2)}`;
      tax.textContent = `$${taxValue.toFixed(2)}`;
      total.textContent = `$${totalValue.toFixed(2)}`;
      numberOfItems++;
    })

    iceCreamOrder.addEventListener('click', function() {
      let newRow = document.createElement('tr');
      let newItem = document.createElement('td');
      let newPrice = document.createElement('td');
      tableBody.appendChild(newRow);
      newRow.appendChild(newItem).textContent = 'Ice Cream Biscuit';
      newRow.appendChild(newPrice).textContent = `$${iceCreamPrice}`;
      subtotalValue += iceCreamPrice;
      taxValue = subtotalValue * 0.1;
      totalValue = subtotalValue + taxValue;
      subtotal.textContent = `$${subtotalValue.toFixed(2)}`;
      tax.textContent = `$${taxValue.toFixed(2)}`;
      total.textContent = `$${totalValue.toFixed(2)}`;
      numberOfItems++;
    })

    placeOrder.addEventListener('click', function(event) {
      event.preventDefault();
      let nameValue = customerName.value;
      let telValue = customerTel.value;
      let addressValue = customerAddress.value;

      if (nameValue !== '' && telValue !== '' && addressValue !== '' && numberOfItems !== 0) {
        let form = document.getElementById('form');
        let div = document.createElement('div');
        div.className = "alert alert-success"
        div.setAttribute('role', 'alert');
        div.textContent = 'Thank you! Your order has been placed.'
        form.appendChild(div);
      } else {
        let form = document.getElementById('form');
        let div = document.createElement('div');
        div.className = "alert alert-danger"
        div.setAttribute('role', 'alert');
        div.textContent = 'Oops! Please provide additional information.'
        form.appendChild(div);
      }

    });

    // set timeout or set toggle on/off display for the success alert
    // right aligned link in the navbar should collapse into a hamburger icon on medium viewports
    // deploy the site to surge
    // copy

  }

  updateOrder();
</script>
